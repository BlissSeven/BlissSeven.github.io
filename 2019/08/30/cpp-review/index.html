<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no">
<meta name="author" content="bliss7">



<meta name="description" content="好吧，这是为了面试而准备的，顺便查漏补缺">
<meta name="keywords" content="cpp,review">
<meta property="og:type" content="article">
<meta property="og:title" content="cpp-review">
<meta property="og:url" content="blissseven.top/2019/08/30/cpp-review/index.html">
<meta property="og:site_name" content="bliss7&#39;s blog">
<meta property="og:description" content="好吧，这是为了面试而准备的，顺便查漏补缺">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-08-31T07:14:57.472Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="cpp-review">
<meta name="twitter:description" content="好吧，这是为了面试而准备的，顺便查漏补缺">

<link rel="apple-touch-icon" href="/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="bliss7&#39;s blog" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>cpp-review | bliss7&#39;s blog</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">bliss7</a></h1>
        </hgroup>

        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:123@123.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C-11/">C++11</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C-11，trivial/">C++11，trivial</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Concurrency/">Concurrency</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OS/">OS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/STL/">STL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP-IP/">TCP-IP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP-IP/">TCP/IP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cpp/">cpp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cpp11/">cpp11</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/data-structure/">data structure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design-pattern/">design pattern</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/muduo/">muduo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network-program/">network-program</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/object-model/">object model</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/object-model/">object-model</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/object-model/">object_model</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/review/">review</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/singleton/">singleton</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thread/">thread</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/多线程服务器/">多线程服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/操作系统/">操作系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/零碎/">零碎</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">bliss7</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">bliss7</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:123@123.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap"><article id="post-cpp-review" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/08/30/cpp-review/" class="article-date">
      <time datetime="2019-08-30T00:30:52.000Z" itemprop="datePublished">2019-08-30</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      cpp-review
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        

        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cpp/">cpp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/review/">review</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <ul>
<li>好吧，这是为了面试而准备的，顺便查漏补缺</li>
</ul>
<a id="more"></a>

<h1 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h1><h2 id="static-const关键字"><a href="#static-const关键字" class="headerlink" title="static const关键字"></a>static const关键字</h2><ul>
<li><p>static和const关键字的作用可以从两个方面回答：一是和类的成员函数或者成员变量相关，二是不属于类的函数或者变量。</p>
<ul>
<li><p>static关键字的作用：</p>
<ul>
<li><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1.static 修饰局部变量，该变量静态生存周期，且只被初始化一次</span></span><br><span class="line"><span class="comment">2.static 修饰全局变量，该变量静态生存周期，以及内部连接性，只能该文件访问</span></span><br><span class="line"><span class="comment">3.static 修饰全局函数，该函数内部连接性，只能本文件访问</span></span><br><span class="line"><span class="comment">4.static 修饰成员函数，该成员函数为类所有，没有this指针，只能访问static成员变量</span></span><br><span class="line"><span class="comment">5.static 修饰成员变量，该成员变量为类所有，对类的所有对象只是一份拷贝</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>const关键字的作用</p>
<ul>
<li><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1、想要阻止一个变量被改变，可以使用const关键字。在定义该const关键字是，通常要对它进行初始化，因为以后再也没有机会去改变它。</span></span><br><span class="line"><span class="comment">2、对于指针来说，可以指定指针本身为const，也可以指定指针所指向的数据为const，或者二者同时指定为const。</span></span><br><span class="line"><span class="comment">3、在一个函数声明中，const可以修饰形参，表明它是一个输入参数，在函数内部不能改变其值。</span></span><br><span class="line"><span class="comment">4、对于类的成员函数，若指定为const，则表明其实一个常函数，不能修改类的成员变量。</span></span><br><span class="line"><span class="comment">5、对于类的成员函数，有时候必须制定其返回值为const，以使得其返回值不能为左值。典型operator[]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="define-和const的区别"><a href="#define-和const的区别" class="headerlink" title="define 和const的区别"></a>define 和const的区别</h2><ul>
<li><p>区别</p>
<ul>
<li><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">（1）就起作用的阶段而言： #define是在编译的预处理阶段起作用，而const是在 编译、运行的时候起作用。</span></span><br><span class="line"><span class="comment">（2）就起作用的方式而言： #define只是简单的字符串替换，没有类型检查。而const有对应的数据类型，是要进行判断的，可以避免一些低级的错误。 </span></span><br><span class="line"><span class="comment">（3）就存储方式而言：#define只是进行展开，有多少地方使用，就替换多少次，它定义的宏常量在内存中有若干个备份；const定义的只读变量在程序运行过程中只有一份备份。</span></span><br><span class="line"><span class="comment">（4）从代码调试的方便程度而言： const常量可以进行调试的，define是不能进行调试的，因为在预编译阶段就已经替换掉了。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>const 优点</p>
<ul>
<li><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">（1）const常量有数据类型，而宏常量没有数据类型。编译器可以对前者进行类型安全检查。而对后者只进行字符替换，没有类型安全检查，并且在字符替换可能会产生意料不到的错误。</span></span><br><span class="line"><span class="comment">（2）有些集成化的调试工具可以对const常量进行调试，但是不能对宏常量进行调试。</span></span><br><span class="line"><span class="comment">（3）const可节省空间，避免不必要的内存分配，提高效率</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="智能指针"><a href="#智能指针" class="headerlink" title="智能指针"></a>智能指针</h2><ul>
<li><p>指向的均为堆中对象，new出来的</p>
</li>
<li><p>unique_ptr</p>
<ul>
<li>独占方式，一次只能有一个指针指向对象，不允许拷贝和赋值</li>
<li>可通过临时对象或者move语义实现赋值</li>
<li>get函数获取原生指针</li>
<li>release放弃内部对象的所有权，内部指针置空，此指针需要手动释放</li>
<li>reset函数，销毁内部对象并接受新的对象</li>
<li>对象被销毁以及内存释放的时机<ul>
<li>当离开作用域或者reset时，释放</li>
</ul>
</li>
</ul>
</li>
<li><p>shared_ptr</p>
<ul>
<li>通过引用计数实现共享，使得多个指针可以同时指向一个对象</li>
<li>use_count查看资源的所有者个数</li>
<li>对象被销毁以及内存释放时机<ul>
<li>最后一个拥有该资源的shared_ptr destored</li>
<li>最后一个拥有该资源的shared_ptr 通过operator=赋值给其他，或者reset，即引用计数为0时</li>
</ul>
</li>
</ul>
</li>
<li><p>weak_ptr</p>
<ul>
<li><p>解决shared_ptr相互应用时的死锁问题</p>
</li>
<li><p>对对象的一种弱引用，不会增加对象的引用计数。和shared_ptr可以相互转换，shared_ptr赋值给weak_ptr，weak_ptr通过lock获得shared_ptr</p>
</li>
<li><p>通过lock返回是否是null或者shared_ptr判断，所指向的对象是否已经被释放</p>
</li>
<li><p>也可通过expired 返回true</p>
</li>
<li><p>以及use_count==0</p>
</li>
<li><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">shared_ptr</span>&lt;B&gt; pb_;</span><br><span class="line">    ~A()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"A delete\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">shared_ptr</span>&lt;A&gt; pa_;</span><br><span class="line">    ~B()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">"B delete\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">shared_ptr</span>&lt;B&gt; pb(<span class="keyword">new</span> B());</span><br><span class="line">    <span class="built_in">shared_ptr</span>&lt;A&gt; pa(<span class="keyword">new</span> A());</span><br><span class="line">    pb-&gt;pa_ = pa;</span><br><span class="line">    pa-&gt;pb_ = pb;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;pb.use_count()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;pa.use_count()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="built_in">shared_ptr</span>&lt;B&gt; pb(<span class="keyword">new</span> B());</span><br><span class="line"><span class="built_in">shared_ptr</span>&lt;A&gt; pa(<span class="keyword">new</span> A());</span><br><span class="line">pb-&gt;pa_ = pa;</span><br><span class="line">pa-&gt;pb_ = pb;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;pb.use_count()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;pa.use_count()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="移动语义"><a href="#移动语义" class="headerlink" title="移动语义"></a>移动语义</h2><ul>
<li><p>移动语义–右值引用</p>
<ul>
<li><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> c；</span><br><span class="line"><span class="keyword">int</span>&amp;&amp; a=<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> &amp;&amp; b=c;<span class="comment">//error只能绑定右值</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在一个有动态内存分配的类中，其拷贝构造函数，一定要实现深拷贝，涉及内存的分配，内存的拷贝</p>
</li>
<li><p>虽然右值引用参数绑定了右值，不过在函数内部，会当做左值来进行 </p>
</li>
<li><ul>
<li><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">X&#123;</span><br><span class="line">    <span class="keyword">private</span> </span><br><span class="line">    <span class="keyword">int</span>* x;</span><br><span class="line">    X(<span class="keyword">const</span> X&amp; other): <span class="comment">// 1</span></span><br><span class="line">		data(<span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1000000</span>])</span><br><span class="line">	&#123;</span><br><span class="line">	<span class="built_in">std</span>::copy(other.data,other.data+<span class="number">1000000</span>,data);</span><br><span class="line">	&#125;</span><br><span class="line">    X (X&amp;&amp; other): <span class="comment">// 2移动构造函数，实现浅拷贝</span></span><br><span class="line">		data(other.data)</span><br><span class="line">	&#123;</span><br><span class="line">		other.data=<span class="literal">nullptr</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">do_stuff</span><span class="params">(X&amp;&amp; x_)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">X <span class="title">a</span><span class="params">(x_)</span></span>; <span class="comment">// 拷贝</span></span><br><span class="line">    <span class="function">X <span class="title">b</span><span class="params">(<span class="built_in">std</span>::move(x_))</span></span>; <span class="comment">// 移动</span></span><br><span class="line">&#125; </span><br><span class="line">do_stuff(X()); <span class="comment">// ok，右值绑定到右值引用上</span></span><br><span class="line">X x;</span><br><span class="line">do_stuff(x);</span><br></pre></td></tr></table></figure>
</li>
<li><p>unique_ptr 只支持移动构造不支持拷贝构造</p>
</li>
</ul>
</li>
<li><p>使用static_cast&lt;X&amp;&amp;&gt;或者move 将左值转换为右值</p>
</li>
</ul>
</li>
<li><p>如果函数模板参数以右值引用作为一个模板参数，当对应位置提供左值的时候，模板会自动将其类型认定为左值引用；当提供右值的时候，会当做普通数据使用 </p>
<ul>
<li><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">foo</span><span class="params">(T&amp;&amp; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">foo(<span class="number">42</span>); <span class="comment">// foo&lt;int&gt;(42)</span></span><br><span class="line">foo(<span class="number">3.14159</span>); <span class="comment">// foo&lt;double&gt;&lt;3.14159&gt;</span></span><br><span class="line">foo(<span class="built_in">std</span>::<span class="built_in">string</span>()); <span class="comment">// foo&lt;std::string&gt;(std::string())</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">42</span>;</span><br><span class="line">foo(i); <span class="comment">// foo&lt;int&amp;&gt;(i)//引用的引用还是引用</span></span><br></pre></td></tr></table></figure>
</li>
<li><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt; <span class="class"><span class="keyword">class</span> <span class="title">T</span> &gt;</span></span><br><span class="line"><span class="class"><span class="title">typename</span> <span class="title">std</span>:</span>:remove_reference&lt;T&gt;::<span class="function">type&amp;&amp; <span class="title">move</span><span class="params">( T&amp;&amp; t )</span> <span class="keyword">noexcept</span></span>;</span><br><span class="line"><span class="comment">//返回值</span></span><br><span class="line"><span class="keyword">static_cast</span>&lt;<span class="keyword">typename</span> <span class="built_in">std</span>::remove_reference&lt;T&gt;::type&amp;&amp;&gt;(t)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">template</span>&lt; <span class="class"><span class="keyword">class</span> <span class="title">T</span> &gt; <span class="title">struct</span> <span class="title">remove_reference</span>      &#123;</span><span class="keyword">typedef</span> T type;&#125;;</span><br><span class="line"><span class="keyword">template</span>&lt; <span class="class"><span class="keyword">class</span> <span class="title">T</span> &gt; <span class="title">struct</span> <span class="title">remove_reference</span>&lt;T&amp;&gt;  &#123;</span><span class="keyword">typedef</span> T type;&#125;;</span><br><span class="line"><span class="keyword">template</span>&lt; <span class="class"><span class="keyword">class</span> <span class="title">T</span> &gt; <span class="title">struct</span> <span class="title">remove_reference</span>&lt;T&amp;&amp;&gt; &#123;</span><span class="keyword">typedef</span> T type;&#125;;</span><br><span class="line"><span class="comment">//move本质上 是一个类型转换，本质上是通过static_cast实现的</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<ul>
<li><p>forward</p>
<ul>
<li><p><strong>解决在使用右值引用参数的函数模板中解决参数的完美转发问题</strong>。只有在它的参数绑定到一个右值上的时候，它才转换它的参数到一个右值</p>
</li>
<li><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//常使用模式一个函数func1 去 转接 另一个函数func2时，直接去使用func2时问题不大</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1,<span class="keyword">typename</span> T2&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func1</span><span class="params">(T1&amp;&amp; t1,T2&amp;&amp; t2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    func2(forward&lt;T1&gt;(t1),forward&lt;T2&gt;(t2));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CoreFun</span><span class="params">(T t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"CoreFun"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ICoreFun</span><span class="params">(T&amp;&amp; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"ICoreFun"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	CoreFun(t);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1. A&amp; &amp;变成A&amp;</span></span><br><span class="line"><span class="comment">2. A&amp; &amp;&amp;变成A&amp;</span></span><br><span class="line"><span class="comment">3. A&amp;&amp; &amp;变成A&amp;</span></span><br><span class="line"><span class="comment">4. A&amp;&amp; &amp;&amp;变成A&amp;&amp;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">当我ICoreFun(lvalue);的时候ICoreFun的函数原型是ICoreFun(CMyString&amp;)</span></span><br><span class="line"><span class="comment">当我ICoreFun(rvalue);的时候ICoreFun的函数原型是ICoreFun(CMyString&amp;&amp;)的：</span></span><br><span class="line"><span class="comment">虽然ICoreFun(CMyString("hello this is the rvalue")); 转换为了ICoreFun(CMyString&amp;&amp; t)，但是，t是一个左值，所以CoreFun(t);的时候调用的是拷贝构造函数来构造t</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">有没有办法，在上面的情况中，在CMyString&amp;&amp; t 传递给CoreFun(t)的时候，CoreFun(t)把t当作左值来处理呢？也就在t是CMyString&amp;&amp;类型的时候把t转换为右值，在t是CMyString&amp; t类型的时候不转换。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">实现转发左值就调用拷贝构造函数，抓发右值就调用右值类型的拷贝构造函数，完美。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">-------------------------------------</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CoreFun</span><span class="params">(T t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"CoreFun"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ICoreFun</span><span class="params">(T&amp;&amp; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"ICoreFun"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	CoreFun(<span class="built_in">std</span>::forward&lt;T&gt;(t));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<ul>
<li><p>std::forward<t>(u)有两个参数：T 与 u。<strong>当T为左值引用类型时，u将被转换为T类型的左值，否则u将被转换为T类型右值</strong>。如此定义std::forward是为了在使用右值引用参数的函数模板中解决参数的完美转发问题。</t></p>
<p><strong>std::move是无条件的转为右值引用，而std::forward是有条件的转为右值引用</strong>，更准确的说叫做Perfect forwarding(完美转发)，而std::forward里面蕴含着的条件则是Reference Collapsing(引用折叠)。</p>
<p>std::move不move任何东西。std::forward也不转发任何东西。在运行时，他们什么都不做。不产生可执行代码，一个比特的代码也不产生。</p>
</li>
</ul>
<h1 id="STL"><a href="#STL" class="headerlink" title="STL"></a>STL</h1><ul>
<li>六大部件，空间配置器，容器，迭代器，适配器，算法，仿函数</li>
<li>不提供遍历行为的容器（不提供迭代器）<ul>
<li>stack</li>
<li>queue</li>
</ul>
</li>
</ul>
<h2 id="空间配置器"><a href="#空间配置器" class="headerlink" title="空间配置器"></a>空间配置器</h2><ul>
<li>构造和析构<ul>
<li>构造调用placement_new，调用相应类的构造函数</li>
<li>析构根据是否trivial_destructor调用不同版本函数模板</li>
</ul>
</li>
<li>空间配置器<ul>
<li>第一级配置器，<ul>
<li>allocate调用malloc，deallocate调用free</li>
<li>模拟C++的set_new_handler处理内存不足情况（客户端责任）</li>
<li>不断释放、配置，再释放、再配置</li>
</ul>
</li>
<li>二级空间配置器，当所申请的内存小于128字节时，调用<ul>
<li>避免小额区块带来的内存碎片以及额外负担（cookie）</li>
<li>维护16个自由链表，负责16种（8-128）小型区块的次配置能力，内存池以malloc配置而得，如果内存不足，转而调用第一级配置器<ol>
<li>如果需求块大于128byte，调用第一级配置器</li>
<li>如果freelist有可用的区块，直接返回节点，链表依次调整（链表头指向下一个可用的list节点）</li>
<li>如果没有可用区块，调整需求为8的倍数，从内存池中取默认20个区块（节点），可能小于20个<ol>
<li>如果内存池剩余空间满足需求，直接返回</li>
<li>如果内存池只能够一个区块，返回</li>
<li>如果内存池一个区块都没有，调整内存池的剩余空间，并malloc配置heap空间补充内存池，期间自调用，确定是否已经完成内存空间的分配，如果不行，再调用第一级空间配置器，如果可以，直接返回</li>
</ol>
</li>
</ol>
</li>
<li>deallocate释放内存时，如果大于128字节，直接free，否则加入到链表中</li>
</ul>
</li>
<li>刚开始初始化内存池时，内存池中没有数据，同时所有链表均为空</li>
<li>只有用户第一次向内存池申请内存，内存池才会完成内存池以及链表的首次填充，此时其他未使用的链表依然是空的</li>
</ul>
</li>
</ul>
<h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><ul>
<li><p>萃取机BIG FIVE</p>
<ul>
<li>reference type</li>
<li>difference_type</li>
<li>value_type</li>
<li>pointer</li>
<li>iterator_category</li>
</ul>
</li>
<li><p>迭代器种类 输入迭代器，输出迭代器，前向迭代器，双向迭代器，随机迭代器</p>
</li>
</ul>
<h2 id="vector实现"><a href="#vector实现" class="headerlink" title="vector实现"></a>vector实现</h2><ul>
<li>维护三个迭代器<ul>
<li>start     begin()</li>
<li>finish    end()</li>
<li>end_of_storage 目前可使用空间的尾</li>
</ul>
</li>
<li>动态增加内存，而是以原大小2倍另外重新配置空间，迭代器失效问题</li>
<li>erase 或者insert 之后的迭代器失效，理论上，每次insert、erase后，所有的迭代器重新计算，所以都看作是失效的，原则是不能使用过期的内存。</li>
</ul>
<h2 id="list实现"><a href="#list实现" class="headerlink" title="list实现"></a>list实现</h2><ul>
<li>环状双向链表，用一个指针Node表示，insert、splice均不会引起迭代器失效，</li>
<li>指针Node刻意置于尾端的一个空白节点</li>
<li>以节点为单位存储数据，节点的地址在内存中不一定连续，每次插入或者删除一个元素，就配置或者释放一个元素空间</li>
<li>list merge 将两个list合并成一个，前提是必须经过递增排序</li>
<li>list sort 排序<ul>
<li>将前两个元素合并，再将后两个合并，然后合并这两个子序列为4个元素的子序列，重复，依次得到8,16，。。子序列，最后得到的就是排序后的序列 时间复杂度O（logN）</li>
</ul>
</li>
</ul>
<h2 id="deque实现"><a href="#deque实现" class="headerlink" title="deque实现"></a>deque实现</h2><ul>
<li>对deque的排序，可以复制到vector上进行排序，后续复制到deque</li>
<li>deque  VS vector<ul>
<li>deque允许常数时间内对头端进行元素的插入和移除操作</li>
<li>deque没有容量观念，它是动态的以分段连续空间组合而成，随时可以增加一段新的空间并连接起来</li>
</ul>
</li>
<li>deque以分段连续的空间组合构成，通过中控器map连接而成，map为一段连续空间，每个元素（节点）为指针，均指向另一段连续性空间（缓冲区，默认512字节）</li>
<li>deque迭代器<ul>
<li>cur指向当前缓冲区，当前所指元素</li>
<li>first当前缓冲区的头</li>
<li>last当前缓冲区的尾</li>
<li>map_pointer node 指向中控器</li>
</ul>
</li>
<li>deque 维护迭代器<ul>
<li>iterator start 第一个缓冲区的第一个元素 begin（）</li>
<li>iterator end 最后一个缓冲区的最后一个元素的下一个位置 end()</li>
<li>map_pointer map指向中控器</li>
<li>size_type map_size map中有几个指针</li>
</ul>
</li>
<li>push_back时，在最后一个节点的缓冲区从左往右push，如果缓冲区剩余个数大于2个，直接填充，否则，填充一个，缓冲区满，再扩充map</li>
<li>push_front时，在第一个节点的缓冲区从右往左push，若有空间则填充，否则扩充map</li>
</ul>
<h2 id="priority-queue"><a href="#priority-queue" class="headerlink" title="priority_queue"></a>priority_queue</h2><ul>
<li>没有迭代器，最大堆实现（vector表现的完全二叉树）</li>
</ul>
<h2 id="set-map实现"><a href="#set-map实现" class="headerlink" title="set-map实现"></a>set-map实现</h2><ul>
<li><p>底层红黑树</p>
</li>
<li><p>set 迭代器 const iterator，不可以通过迭代器修改元素</p>
</li>
<li><p>set map 同list相同，当客户端对它进行元素insert和erase后，操作之前的所有迭代器在操作完成之后依然有效</p>
</li>
<li><p>自定义类提供compare函数</p>
</li>
<li><p>红黑树执行插入、删除、查找时间复杂度logN</p>
</li>
<li><p>set/map插入删除效率高</p>
<ul>
<li>不需要内存的拷贝和移动</li>
</ul>
</li>
<li><p>set/map每次insert、erase后之前保存的iterator不会失效</p>
<ul>
<li>插入操作只是结点指针换来换去，结点内存不变，而iterator就像指向结点的指针，内存不变，指向内存的指针也不变</li>
</ul>
</li>
</ul>
<h2 id="unordered-set-map实现"><a href="#unordered-set-map实现" class="headerlink" title="unordered-set/map实现"></a>unordered-set/map实现</h2><ul>
<li>底层 hashtable 不具有排序功能</li>
<li>自定义类提供hash函数以及等于函数</li>
<li>unordered-map VS map<ul>
<li>构造函数：unordered-map 提供hash 函数和等于函数，map提供比较函数</li>
<li>存储结构：unordered-map 底层 hashtable，不提供排序功能，map底层 rb-tree,提供排序功能</li>
<li>hash-map 查找速度快，查找速度和数据量大小无关，常数级别，map查找速度 logN</li>
<li>考虑效率，当元素数量到达一定数量级时，用unordered-map</li>
<li>考虑内存，或者元素数量较少用map</li>
<li>选用unordered-map还是map，关键看关键字查询操作次数，以及所要保证的是查询总体时间还是单个查询的时间。如果很多次操作，要求其整体效率，使用hash-map，平均处理时间短。如果少数次操作，使用hash-map导致不确定的O（N）。map用在平均处理时间相对较慢，单次处理事件恒定，整体稳定性高于整体效率，前提是操作次数少。</li>
</ul>
</li>
</ul>
<h1 id="C-11-多线程"><a href="#C-11-多线程" class="headerlink" title="C++11 多线程"></a>C++11 多线程</h1><h1 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h1><h2 id="linux-IO模型"><a href="#linux-IO模型" class="headerlink" title="linux IO模型"></a>linux IO模型</h2><h2 id="select-epoll"><a href="#select-epoll" class="headerlink" title="select epoll"></a>select epoll</h2><h1 id="计算机网络"><a href="#计算机网络" class="headerlink" title="计算机网络"></a>计算机网络</h1><h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><ul>
<li><h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2></li>
</ul>
<h1 id="数据结构和算法"><a href="#数据结构和算法" class="headerlink" title="数据结构和算法"></a>数据结构和算法</h1><h2 id="hashtable-哈希表"><a href="#hashtable-哈希表" class="headerlink" title="hashtable 哈希表"></a>hashtable 哈希表</h2><ul>
<li><p>负载系数=元素个数/表格大小</p>
</li>
<li><p>避免地址冲突</p>
<ul>
<li>线性探测：如果hash函数计算某个元素的插入位置后，如果该位置的空间已经被占据，则继续向下寻找，直到找到一个可用空间为止，尝试H+1，H+2，H+3，H+4</li>
</ul>
</li>
<li><p>二次探测：如果计算的位置被占用，依次尝试H+1^2，H+2^2，H+3^2，H+4^2，</p>
<ul>
<li>设置表格大小为质数，永远保持负载系数在0.5以下（超过0.5重新配置并整理表格），确定没插入一个元素所需要的探测次数不多于2<ul>
<li>开链，维护buckets，bucket个数为质数，每个表格元素bucket维护一个list，在那个list中执行插入，删除，前提list够短，负载&gt;1，当元素个数大于bucket个数时，链表打散rehashing，bucket大小变为两倍大小左右的素数</li>
</ul>
</li>
<li>vector 维护buckets</li>
<li>通过hash函数%表长，获得bucket索引，之后再bucket所维护的链表中轮询，如果相等，直接插入前面，否则，新建节点添加到头部</li>
</ul>
</li>
</ul>
<h2 id="平衡二叉树"><a href="#平衡二叉树" class="headerlink" title="平衡二叉树"></a>平衡二叉树</h2><ul>
<li><p>二叉搜索树</p>
</li>
<li><p>AVL-TREE</p>
</li>
<li><p>RB-tree 是二叉搜索树</p>
<ul>
<li>每个节点不是黑色就是红色</li>
<li>根节点为黑色</li>
<li>若节点为红色，子节点一定为黑</li>
<li>任一节点到NULL（树尾端）的任何路径，所含黑节点个数必须相同</li>
</ul>
</li>
<li><p>AA-TREE</p>
</li>
</ul>
<h2 id="排序算法"><a href="#排序算法" class="headerlink" title="排序算法"></a>排序算法</h2><h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><h1 id="项目"><a href="#项目" class="headerlink" title="项目"></a>项目</h1><h1 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h1><h2 id="singleton"><a href="#singleton" class="headerlink" title="singleton"></a>singleton</h2>
      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2019/08/30/cpp-review/">cpp-review</a></p>
        <p><span>文章作者:</span><a href="/" title="回到主页">bliss7</a></p>
        <p><span>发布时间:</span>2019-08-30, 08:30:52</p>
        <p><span>最后更新:</span>2019-08-31, 15:14:57</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2019/08/30/cpp-review/" title="cpp-review">blissseven.top/2019/08/30/cpp-review/</a>
            <span class="copy-path" data-clipboard-text="原文: blissseven.top/2019/08/30/cpp-review/　　作者: bliss7" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



    <nav id="article-nav">
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2019/08/28/network-program/">
                    network-program
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">文章目录</strong>
        
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#C"><span class="toc-number">1.</span> <span class="toc-text">C++</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#static-const关键字"><span class="toc-number">1.1.</span> <span class="toc-text">static const关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#define-和const的区别"><span class="toc-number">1.2.</span> <span class="toc-text">define 和const的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#智能指针"><span class="toc-number">1.3.</span> <span class="toc-text">智能指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#移动语义"><span class="toc-number">1.4.</span> <span class="toc-text">移动语义</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#STL"><span class="toc-number">2.</span> <span class="toc-text">STL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#空间配置器"><span class="toc-number">2.1.</span> <span class="toc-text">空间配置器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#迭代器"><span class="toc-number">2.2.</span> <span class="toc-text">迭代器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vector实现"><span class="toc-number">2.3.</span> <span class="toc-text">vector实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#list实现"><span class="toc-number">2.4.</span> <span class="toc-text">list实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#deque实现"><span class="toc-number">2.5.</span> <span class="toc-text">deque实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#priority-queue"><span class="toc-number">2.6.</span> <span class="toc-text">priority_queue</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#set-map实现"><span class="toc-number">2.7.</span> <span class="toc-text">set-map实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#unordered-set-map实现"><span class="toc-number">2.8.</span> <span class="toc-text">unordered-set/map实现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#C-11-多线程"><span class="toc-number">3.</span> <span class="toc-text">C++11 多线程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#操作系统"><span class="toc-number">4.</span> <span class="toc-text">操作系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#linux-IO模型"><span class="toc-number">4.1.</span> <span class="toc-text">linux IO模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#select-epoll"><span class="toc-number">4.2.</span> <span class="toc-text">select epoll</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#计算机网络"><span class="toc-number">5.</span> <span class="toc-text">计算机网络</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP"><span class="toc-number">5.1.</span> <span class="toc-text">TCP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP"><span class="toc-number">5.2.</span> <span class="toc-text">HTTP</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数据结构和算法"><span class="toc-number">6.</span> <span class="toc-text">数据结构和算法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#hashtable-哈希表"><span class="toc-number">6.1.</span> <span class="toc-text">hashtable 哈希表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#平衡二叉树"><span class="toc-number">6.2.</span> <span class="toc-text">平衡二叉树</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#排序算法"><span class="toc-number">6.3.</span> <span class="toc-text">排序算法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数据库"><span class="toc-number">7.</span> <span class="toc-text">数据库</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#项目"><span class="toc-number">8.</span> <span class="toc-text">项目</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#设计模式"><span class="toc-number">9.</span> <span class="toc-text">设计模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#singleton"><span class="toc-number">9.1.</span> <span class="toc-text">singleton</span></a></li></ol></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

    <script>
        yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"cpp-review　| bliss7's blog　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    




    <div class="scroll" id="post-nav-button">
        
            <a href="/" title="回到主页"><i class="fa fa-home"></i></a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2019/08/28/network-program/" title="下一篇: network-program">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/08/30/cpp-review/">cpp-review</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/28/network-program/">network-program</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/27/cpp11-singleton/">cpp11-singleton</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/22/object-model3/">object-model3</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/21/muduo-note/">muduo_note</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/14/OS/">OS</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/01/object-model2/">C++对象模型探索-2</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/30/cpp-trivial/">cpp_trivial</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/17/数据结构补全计划/">数据结构补全计划</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/13/object-model/">C++对象模型探索-1</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/13/hello-hexo-blog/">hello-hexo-blog</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/13/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/04/04/tcp-ip-note/">TCP/IP网络协议</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/17/concurrency-in-cpp11-2/">C++11 多线程编程2</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/03/concurrency-in-cpp11/">C++11 多线程编程</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/17/C-11-note/">C++ 11 新特性</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/10/design-pattern-note/">Design Pattern</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/11/08/STL-note/">STL_note</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2019 bliss7
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 7;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>